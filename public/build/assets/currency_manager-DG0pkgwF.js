import{s as o}from"./show_toast-D6XsZeMw.js";import{m as c}from"./ajax-BLA7SV_z.js";import{D as l}from"./dataTables-B9FWpZWP.js";import"./_commonjsHelpers-BosuxZz1.js";new l("#currencyListTable",{responsive:!0,processing:!0,serverSide:!0,ajax:{url:window.commonAsset.ajax,type:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf_token"]').attr("content")},data:function(r){r.action="load_currencies"}},order:[[0,"desc"]],columns:[{data:"curr_name"},{data:"curr_sign"},{data:"curr_value"},{data:"curr_default"},{data:"action"}]});$(document).ready(function(){$(".modalCurrencyFormBtn").on("click",function(r){r.preventDefault();var e=$(this).data("currency_id");let a=$(this).data("bs-effect");$("#modalCurrencyForm").addClass(a),d(e)}),$("#modalCurrencySubmit").on("click",function(r){r.preventDefault(),$("#currencyName").val(),$("#currencySign").val(),$("#currencyValue").val();var e=!0,a=$(this),t=a.data("targetform"),n=$("."+t);if(n.find('[data-is_required="1"]').each(function(){$(this).val()?($(this).removeClass("error"),$(this).siblings(".error-message").hide()):(e=!1,$(this).addClass("error"),$(this).siblings(".error-message").text(translations.super.this_field_is_required).show())}),!e)return o(translations.super.please_fill_in_all_required_fields,"warning"),!1;var i=new FormData(n[0]);return $("."+t).find(":input").each(function(){var s=this.name;i.has(s)||($(this).is(":checkbox")?i.append(s,$(this).is(":checked")?$(this).val():"no"):$(this).is(":radio")?$(this).is(":checked")&&i.append(s,$(this).val()):i.append(s,$(this).val()))}),!1}),$("#modalCurrencyForm").on("hidden.bs.modal",function(){let r=$(this).attr("class").match(/(^|\s)effect-\S+/g);r&&(r=r[0].trim(),$(this).removeClass(r))})});function d(r){$("#modalCurrencySubmit").prop("disabled",!0);var e=new FormData;e.append("action","load_currency_create_edit_form"),e.append("currency_id",r),$("#modalCurrencyBody").html('<div class="text-center"><img src="../../../build/assets/images/svgs/loader.svg" alt=""></div>'),c("POST",window.commonAsset.ajax,e,function(a,t){m(a,t)})}function m(r,e){if($("#modalCurrencySubmit").prop("disabled",!1),r)console.error("Error:",r);else return e.type=="error"?(Swal.fire({icon:"error",title:e.msg}),!1):($("#modalCurrencyTitle").html(e.form_title),$("#modalCurrencySubmit").html(e.form_btn),$("#modalCurrencyBody").html(e.form_body),!0)}
